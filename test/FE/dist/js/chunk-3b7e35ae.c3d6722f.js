(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b7e35ae"],{"11d7":function(t,e,r){"use strict";var n=r("be86"),a=r.n(n);a.a},"398e":function(t,e,r){"use strict";var n=r("3ab8"),a=r.n(n);a.a},"3ab8":function(t,e,r){},"7d36":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.qrShown,expression:"qrShown"}],ref:"qr",staticClass:"qr",attrs:{id:"qr"},on:{click:function(e){t.qrShown=!1}}})]),r("transition",{attrs:{name:"swap",mode:"out-in"}},[t.ready?r("div",{key:"1",staticClass:"game",style:t.theme},[r("div",{staticClass:"controls controls-left"},[r("div",{staticClass:"control-corner"},[r("btn",{attrs:{mega:"",to:"/"}},[t._v("Close")]),r("btn",{attrs:{mega:""},on:{click:t.resetGame}},[t._v("Start over")])],1),r("div",{staticClass:"player-corner"},[r("pile",{attrs:{"player-index":1}}),r("avatar",{attrs:{user:t.game.players["1"],live:""}})],1)]),r("desk",{staticClass:"desk",on:{illegal:t.illegalFeedback}}),r("div",{staticClass:"controls controls-right"},[r("div",{staticClass:"player-corner"},[t.game.players["2"]?r("avatar",{attrs:{user:t.game.players["2"],live:""},nativeOn:{click:function(e){return t.writeQR(e)}}}):t._e(),r("pile",{attrs:{"player-index":2}})],1),r("div",{staticClass:"control-corner"},[r("div",{staticClass:"turn-count"},[r("b",[t._v(t._s(t.game.gameState.turns))]),t._v(" turns ")]),r("btn",{staticClass:"endButton",attrs:{mega:"",disabled:t.game.turnActions.length<2||t.done},on:{click:t.signalReady}},[t._v(t._s(t.endButtonText))])],1)])],1):r("div",{key:"2",staticClass:"loading-screen"},[r("div",[r("logo"),r("div",{staticClass:"loading-text"},[t._v("Connecting...")])],1)])])],1)},a=[],s=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),i=r("e588"),c=r("2f62"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"desk",style:{"--grid-size":t.grid}},t._l(t.game.cardState,(function(e,n){return r("card",{key:n,attrs:{index:parseInt(n),src:t.deckMap[n],turned:0!=e,collected:e>0}})})),1)},l=[],d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["card",{turned:t.turned,turnable:t.turnable,off:t.off,collected:t.collected}],on:{"&click":function(e){return t.turn(e)}}},[r("div",{staticClass:"card-side back"},[r("logo",{staticStyle:{opacity:".5"}})],1),r("div",{staticClass:"card-side face"},[r("img",{staticClass:"card-image",attrs:{src:t.src}})])])},u=[],f=(r("a9e3"),{props:{index:Number,src:{type:String,default:"/img/fh-full.svg"},turned:Boolean,collected:Boolean},data:function(){return{}},computed:{turnable:function(){return this.$store.getters.canTurn},off:function(){return!this.$store.getters.isSinglePlayer&&this.collected}},methods:{turn:function(){this.$store.dispatch("selectCard",this.index),this.$parent.$emit("illegal")}}}),p=f,m=(r("d790"),r("2877")),g=Object(m["a"])(p,d,u,!1,null,"22ae467c",null),h=g.exports;function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(r,!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var y={computed:b({},Object(c["d"])(["game","deckMap"]),{grid:function(){var t=this.game.deck.size;return t<=16?4:t<=36?6:8}}),components:{Card:h}},w=y,O=(r("8365"),Object(m["a"])(w,o,l,!1,null,"f39636be",null)),j=O.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pile"},[t._l(t.cards.slice(0,8),(function(e,n){return r("img",{key:n,staticClass:"pile-card",style:{transform:t.transforms[n],pointerEvents:"none"},attrs:{src:e,turned:""}})})),r("div",{directives:[{name:"show",rawName:"v-show",value:t.cards.length>0,expression:"cards.length > 0"}],staticClass:"counter"},[t._v(t._s(Math.floor(t.cards.length/2)))])],2)},C=[],_=(r("cb29"),r("d81d"),{props:{playerIndex:Number},data:function(){return{transforms:Array(64).fill(0).map((function(t){return"rotateZ(".concat(20*Math.random()-10,"deg)")}))}},computed:{cards:function(){return this.$store.getters.collectedCards(this.playerIndex)}},methods:{getRandom:function(){return"rotateZ(".concat(20*Math.random()-10,"deg)")}},watch:{cards:function(t,e){if(t.length!==e.length){this.transforms=[];for(var r=0;r<t.length;r++)this.transforms.push("rotateZ(".concat(20*Math.random()-10,"deg)"))}}}}),P=_,x=(r("398e"),Object(m["a"])(P,k,C,!1,null,"3452e162",null)),$=x.exports;function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(r,!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var D={name:"game",data:function(){return{ready:!1,qrShown:!1}},computed:q({},Object(c["d"])(["user","game"]),{},Object(c["c"])(["match","theme","playing","done"]),{endButtonText:function(){return this.done?"Waiting...":this.playing?"End turn":"End observing"}}),created:function(){var t=this;this.$store.dispatch("bindGame",this.$route.params.id).then((function(){t.ready=!0,t.$store.dispatch("getDeckMap"),document.documentElement.style.setProperty("--bg-img","url(".concat(t.$store.state.game.deck.backImage,")")),t.$store.commit("showImage"),new Audio("/sound/complete.mp3").play()}))},beforeDestroy:function(){this.$store.commit("hideImage")},methods:q({},Object(c["b"])(["signalReady","endGame","resetGame"]),{illegalFeedback:function(){},writeQR:function(){var t=new i["BrowserQRCodeSvgWriter"],e="https://fh.ovi.moe";this.$refs.qr.innerHTML="",t.writeToDom("#qr","".concat(e,"/join/").concat(this.game.id),300,300);var r=this.$refs.qr.querySelector("svg");r.removeAttribute("width"),r.removeAttribute("height"),r.setAttribute("viewBox","0 0 300 300"),this.qrShown=!0}}),components:{Desk:j,Pile:$}},E=D,M=(r("11d7"),Object(m["a"])(E,n,a,!1,null,null,null));e["default"]=M.exports},"81d5":function(t,e,r){"use strict";var n=r("7b0b"),a=r("23cb"),s=r("50c4");t.exports=function(t){var e=n(this),r=s(e.length),i=arguments.length,c=a(i>1?arguments[1]:void 0,r),o=i>2?arguments[2]:void 0,l=void 0===o?r:a(o,r);while(l>c)e[c++]=t;return e}},8365:function(t,e,r){"use strict";var n=r("eec8"),a=r.n(n);a.a},be86:function(t,e,r){},cb29:function(t,e,r){var n=r("23e7"),a=r("81d5"),s=r("44d2");n({target:"Array",proto:!0},{fill:a}),s("fill")},d790:function(t,e,r){"use strict";var n=r("f2e8"),a=r.n(n);a.a},eec8:function(t,e,r){},f2e8:function(t,e,r){}}]);
//# sourceMappingURL=chunk-3b7e35ae.c3d6722f.js.map