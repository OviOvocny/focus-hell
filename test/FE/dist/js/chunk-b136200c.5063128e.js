(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b136200c"],{baa5:function(e,t,n){var i=n("23e7"),r=n("e58c");i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},c283:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"controller-setup"},[e.qrActive?n("h2",[e._v("Show us the QR code and you're in!")]):n("h2",[e._v("Start the scanner to save some time!")]),n("div",{staticClass:"viewfinder"},[n("qr-scanner",{attrs:{scanning:e.qrActive,device:e.qrDevice},on:{devices:e.startScanner,result:e.processQr}})],1),e.numQrDevices>=2?n("btn",{staticClass:"switch-cam",on:{click:function(t){e.qrDevice=(e.qrDevice+1)%e.numQrDevices}}},[e._v("Use camera "+e._s((e.qrDevice+1)%e.numQrDevices+1))]):e._e(),e.numQrDevices>0?n("btn",{on:{click:function(t){e.qrActive=!e.qrActive}}},[e._v(e._s(e.qrActive?"Cancel scan":"Scan QR code"))]):e._e(),n("div",[n("h3",[e._v("Or type the code here. You do you.")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.gameId,expression:"gameId"}],staticStyle:{"margin-right":"1em"},attrs:{type:"text"},domProps:{value:e.gameId},on:{input:function(t){t.target.composing||(e.gameId=t.target.value)}}}),n("btn",{attrs:{disabled:!e.gameId},on:{click:e.goToSession}},[e._v("Join")])],1),n("btn",{staticClass:"back-btn",on:{click:function(t){return e.$router.go(-1)}}},[e._v("Back")])],1)},r=[],c=(n("baa5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("video",{attrs:{id:"qrPreview",width:e.width,height:e.height}})}),s=[],o=(n("a9e3"),n("e588")),a={props:{scanning:Boolean,device:{type:Number,default:0},width:{type:Number,default:300},height:{type:Number,default:300}},methods:{scan:function(){var e=this;this.qr.decodeFromInputVideoDevice(this.videoDevices[this.device].deviceId,"qrPreview").then((function(t){e.$emit("result",t)})).catch((function(t){e.$emit("error",t),console.error(t)}))}},created:function(){var e=this;this.qr=new o["BrowserQRCodeReader"],this.qr.getVideoInputDevices().then((function(t){e.videoDevices=t,e.$emit("devices",t)})).catch((function(t){e.$emit("error",t),console.error(t)}))},watch:{scanning:function(e){e?this.scan():this.qr.reset()},device:function(){this.scanning&&(this.qr.reset(),this.scan())}},beforeDestroy:function(){this.qr.reset()}},u=a,d=n("2877"),v=Object(d["a"])(u,c,s,!1,null,null,null),h=v.exports,l={data:function(){return{qrActive:!1,qrDevice:0,numQrDevices:0,gameId:null}},methods:{startScanner:function(e){e.length<=0?console.log("No camera"):(this.qrActive=!0,this.numQrDevices=e.length)},processQr:function(e){this.gameId=e.text.substr(e.text.lastIndexOf("/")+1),this.goToSession()},goToSession:function(){this.$router.push("/play/".concat(this.gameId))}},components:{"qr-scanner":h}},f=l,m=Object(d["a"])(f,i,r,!1,null,"9bd05e4c",null);t["default"]=m.exports},e58c:function(e,t,n){"use strict";var i=n("fc6a"),r=n("a691"),c=n("50c4"),s=n("b301"),o=Math.min,a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf");e.exports=u||d?function(e){if(u)return a.apply(this,arguments)||0;var t=i(this),n=c(t.length),s=n-1;for(arguments.length>1&&(s=o(s,r(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:a}}]);
//# sourceMappingURL=chunk-b136200c.5063128e.js.map