{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.last-index-of.js","webpack:///./src/views/Join.vue?7628","webpack:///./src/components/controls/QRScanner.vue?1a2f","webpack:///src/components/controls/QRScanner.vue","webpack:///./src/components/controls/QRScanner.vue?bba0","webpack:///./src/components/controls/QRScanner.vue","webpack:///src/views/Join.vue","webpack:///./src/views/Join.vue?ba50","webpack:///./src/views/Join.vue","webpack:///./node_modules/core-js/internals/array-last-index-of.js"],"names":["$","lastIndexOf","target","proto","forced","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","qrActive","qrDevice","on","startScanner","processQr","numQrDevices","$event","_s","_e","directives","name","rawName","value","expression","staticStyle","domProps","composing","gameId","goToSession","$router","go","staticRenderFns","width","height","props","scanning","Boolean","device","type","Number","default","methods","scan","qr","decodeFromInputVideoDevice","videoDevices","deviceId","created","getVideoInputDevices","watch","active","reset","beforeDestroy","component","data","devices","length","console","log","result","text","substr","push","components","QRScanner","toIndexedObject","toInteger","toLength","sloppyArrayMethod","min","Math","nativeLastIndexOf","NEGATIVE_ZERO","SLOPPY_METHOD","module","exports","searchElement","apply","arguments","O","index"],"mappings":"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","file":"js/chunk-b136200c.5063128e.js","sourcesContent":["var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"controller-setup\"},[(_vm.qrActive)?_c('h2',[_vm._v(\"Show us the QR code and you're in!\")]):_c('h2',[_vm._v(\"Start the scanner to save some time!\")]),_c('div',{staticClass:\"viewfinder\"},[_c('qr-scanner',{attrs:{\"scanning\":_vm.qrActive,\"device\":_vm.qrDevice},on:{\"devices\":_vm.startScanner,\"result\":_vm.processQr}})],1),(_vm.numQrDevices >= 2)?_c('btn',{staticClass:\"switch-cam\",on:{\"click\":function($event){_vm.qrDevice = (_vm.qrDevice + 1) % _vm.numQrDevices}}},[_vm._v(\"Use camera \"+_vm._s((_vm.qrDevice + 1) % _vm.numQrDevices + 1))]):_vm._e(),(_vm.numQrDevices > 0)?_c('btn',{on:{\"click\":function($event){_vm.qrActive = !_vm.qrActive}}},[_vm._v(_vm._s(_vm.qrActive ? 'Cancel scan' : 'Scan QR code'))]):_vm._e(),_c('div',[_c('h3',[_vm._v(\"Or type the code here. You do you.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.gameId),expression:\"gameId\"}],staticStyle:{\"margin-right\":\"1em\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.gameId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.gameId=$event.target.value}}}),_c('btn',{attrs:{\"disabled\":!_vm.gameId},on:{\"click\":_vm.goToSession}},[_vm._v(\"Join\")])],1),_c('btn',{staticClass:\"back-btn\",on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"Back\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('video',{attrs:{\"id\":\"qrPreview\",\"width\":_vm.width,\"height\":_vm.height}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <video id=\"qrPreview\" :width=\"width\" :height=\"height\"></video>\n</template>\n\n<script>\nimport { BrowserQRCodeReader } from '@zxing/library'\nexport default {\n  props: {\n    scanning: Boolean,\n    device: {\n      type: Number,\n      default: 0\n    },\n    width: {\n      type: Number,\n      default: 300\n    },\n    height: {\n      type: Number,\n      default: 300\n    }\n  },\n  methods: {\n    scan () {\n      this.qr.decodeFromInputVideoDevice(this.videoDevices[this.device].deviceId, 'qrPreview')\n        .then((result) => {\n          this.$emit('result', result)\n        }).catch((err) => {\n          this.$emit('error', err)\n          console.error(err)\n        })\n    }\n  },\n  created () {\n    this.qr = new BrowserQRCodeReader()\n    this.qr.getVideoInputDevices()\n      .then(d => {\n        this.videoDevices = d\n        this.$emit('devices', d)\n      })\n      .catch(err => {\n        this.$emit('error', err)\n        console.error(err)\n      })\n  },\n  watch: {\n    scanning (active) {\n      if (active) {\n        this.scan()\n      } else {\n        this.qr.reset()\n      }\n    },\n    device () {\n      if (this.scanning) {\n        this.qr.reset()\n        this.scan()\n      }\n    }\n  },\n  beforeDestroy () {\n    this.qr.reset()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QRScanner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QRScanner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QRScanner.vue?vue&type=template&id=66fa062e&\"\nimport script from \"./QRScanner.vue?vue&type=script&lang=js&\"\nexport * from \"./QRScanner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"controller-setup\">\n    <h2 v-if=\"qrActive\">Show us the QR code and you're in!</h2>\n    <h2 v-else>Start the scanner to save some time!</h2>\n    <div class=\"viewfinder\">\n      <qr-scanner\n        @devices=\"startScanner\"\n        :scanning=\"qrActive\"\n        :device=\"qrDevice\"\n        @result=\"processQr\"\n      />\n    </div>\n    <btn v-if=\"numQrDevices >= 2\" class=\"switch-cam\" @click=\"qrDevice = (qrDevice + 1) % numQrDevices\">Use camera {{(qrDevice + 1) % numQrDevices + 1}}</btn>\n    <btn v-if=\"numQrDevices > 0\" @click=\"qrActive = !qrActive\">{{qrActive ? 'Cancel scan' : 'Scan QR code'}}</btn>\n    <div>\n      <h3>Or type the code here. You do you.</h3>\n      <input type=\"text\" v-model=\"gameId\" style=\"margin-right:1em\" />\n      <btn @click=\"goToSession\" :disabled=\"!gameId\">Join</btn>\n    </div>\n    <btn class=\"back-btn\" @click=\"$router.go(-1)\">Back</btn>\n  </div>\n</template>\n\n<script>\nimport QRScanner from '@/components/controls/QRScanner'\nexport default {\n  data () {\n    return {\n      // QR Scan\n      qrActive: false,\n      qrDevice: 0,\n      numQrDevices: 0,\n      // Game data\n      gameId: null\n    }\n  },\n  methods: {\n    startScanner (devices) {\n      if (devices.length <= 0) {\n        console.log('No camera')\n      } else {\n        this.qrActive = true\n        this.numQrDevices = devices.length\n      }\n    },\n    processQr (result) {\n      this.gameId = result.text.substr(result.text.lastIndexOf('/') + 1)\n      this.goToSession()\n    },\n    goToSession () {\n      this.$router.push(`/play/${this.gameId}`)\n    }\n  },\n  components: {\n    'qr-scanner': QRScanner\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Join.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Join.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Join.vue?vue&type=template&id=9bd05e4c&scoped=true&\"\nimport script from \"./Join.vue?vue&type=script&lang=js&\"\nexport * from \"./Join.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9bd05e4c\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('lastIndexOf');\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = (NEGATIVE_ZERO || SLOPPY_METHOD) ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n"],"sourceRoot":""}